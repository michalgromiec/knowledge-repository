
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Databases in AWS &#8212; Knowledge Repository 0.1 documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../index.html">
                    <no title>
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Collection of Data
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../00%20Certification/00.01%20cerfification%20info.html">
   DAS-C01 certification info
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../00%20Certification/00.02%20data%20analytics%20in%20general.html">
   Data Analytics - general info
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/01.01%20Data%20Collection%20intro.html">
   Collection of data - intro
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/01.02%20Kinesis%20Data%20Streams.html">
   Kinesis Data Streams
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/02.01%20Kinesis%20Data%20Firehose.html">
   Kinesis Data Firehose
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/02.50%20Kinesis%20Video%20Streams.html">
   Kinesis Video Streams
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/03.01%20Cloudwatch%20Logs%20Subscription%20Filter.html">
   Cloudwatch Logs Subscription Filter
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/04.01%20AWS%20MSK%20%28Managed%20Streaming%20for%20Apache%20Kafka%29.html">
   AWS MSK (Managed Streaming for Apache Kafka)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/05.01%20SQS.html">
   AWS SQS (Simple Queue Service)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/06.01%20IOT.html">
   AWS IOT
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/07.01%20Database%20Migration%20Service.html">
   AWS DMS (Database Migration Service)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/08.01%20Direct%20Connect%20%28DX%29.html">
   AWS Direct Connect (DX)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/09.01%20AWS%20Snow%20Family.html">
   AWS Snow (family)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/11.01%20Lambda%2C%20API%20and%20Cloudfront.html">
   AWS Lambda
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Storage of Data
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../02%20Storage%20of%20data/02.01%20AWS%20S3.html">
   AWS S3 (Simple Storage Service)
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/michalgromiec/knowledge-repository"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/michalgromiec/knowledge-repository/edit/master/docs/source/aws_certified_data_analytics_specialty/notes/03 Processing/03.09 Databases in AWS.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rds">
   RDS
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#available-engines">
     Available Engines
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#multi-az-deployment">
     Multi-AZ deployment
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#neptune-db">
   Neptune DB
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#documentdb">
   DocumentDB
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#use-cases">
     Use cases
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aurora-serverless">
   Aurora (serverless)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dynamodb-serverless">
   DynamoDB (Serverless)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#athena">
   Athena
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#s3-select">
   S3 Select
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Databases in AWS</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rds">
   RDS
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#available-engines">
     Available Engines
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#multi-az-deployment">
     Multi-AZ deployment
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#neptune-db">
   Neptune DB
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#documentdb">
   DocumentDB
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#use-cases">
     Use cases
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aurora-serverless">
   Aurora (serverless)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dynamodb-serverless">
   DynamoDB (Serverless)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#athena">
   Athena
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#s3-select">
   S3 Select
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <div class="section" id="databases-in-aws">
<h1>Databases in AWS<a class="headerlink" href="#databases-in-aws" title="Permalink to this heading">#</a></h1>
<ul class="simple">
<li><p>used for preprocessing data, collecting or storage</p></li>
<li><p>exam doesnt go deeply in this area, but can include those topics in wrong answers for exam questions</p></li>
<li><p>available types of databases in AWS:</p>
<ul>
<li><p>relational (postgres, mariadb, aurora, sql server, oracle etc)</p>
<ul>
<li><p>row (for OLTP, transations)</p></li>
<li><p>columnar (for analysis, OLAP)</p></li>
</ul>
</li>
<li><p>non-relational (no-sql)</p>
<ul>
<li><p>key-value (elasticache, dynamodb)</p></li>
<li><p>document (dybamodb, documentdb)</p></li>
</ul>
</li>
<li><p>graph (neptune)</p></li>
</ul>
</li>
</ul>
<div class="section" id="rds">
<h2>RDS<a class="headerlink" href="#rds" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>no operating system access</p></li>
<li><p>SaaS (software-as-a-service)</p></li>
<li><p>managed service</p></li>
<li><p>in practice, EC2 instances are created underneath, available indirect via route53 endpoint and management API</p></li>
</ul>
<div class="section" id="available-engines">
<h3>Available Engines<a class="headerlink" href="#available-engines" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Amazon Aurora (mySQL or Postgres) - databases in clusters</p></li>
<li><p>MySQL</p></li>
<li><p>MariaDB</p></li>
<li><p>PostgreSQL</p></li>
<li><p>SQLServer</p></li>
<li><p>Oracle</p></li>
</ul>
</div>
<div class="section" id="multi-az-deployment">
<h3>Multi-AZ deployment<a class="headerlink" href="#multi-az-deployment" title="Permalink to this heading">#</a></h3>
<p>Created for disaster recovery.</p>
<p>User can create two “instances” of databases, working in two separate availability zones. One of them are treated as primary replica and is working with users requests, whilst the other one is “sleeping” and is repliacted at the block storage level (storage connected to EC2). This means, replication is not done at the database level, thanks to which replication is very fast.</p>
<p>RDS is constantly monitoring both replicas, and if any of database engine, ec2 or ebs volume corrupt, whole replica is being destroyed and secondary replica is promoted to primary (database engine on secondary replica is woken up). Next, new secondary replica is being created (with inactive engine) and replication at storage level (EBS) is started.</p>
<p>Despite we can run rds in single availability zone, it is highly not recommended. In such case, failure of any part of rds will lead to full data loss.</p>
</div>
</div>
<div class="section" id="neptune-db">
<h2>Neptune DB<a class="headerlink" href="#neptune-db" title="Permalink to this heading">#</a></h2>
<p>Graph database service.</p>
<p>Interference language:</p>
<ul class="simple">
<li><p>Apache TinkerPop Gremlin, with interface via WebSocket</p></li>
<li><p>W3C SPARQL Protocol and RDF Query Language, with interface via HTTP rest and query pattern similar to SQL</p></li>
</ul>
</div>
<div class="section" id="documentdb">
<h2>DocumentDB<a class="headerlink" href="#documentdb" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>MongoDB <strong>compatible</strong> (it is not mongodb, it’s only compatible)</p></li>
<li><p>filly managed like RDS (saas)</p></li>
<li><p>storage auto-scaling is possible</p></li>
<li><p>able to index json data structures</p></li>
<li><p>in opposite to rdbs, data are stored in denormalized way, so redundancy is often used</p></li>
</ul>
<div class="section" id="use-cases">
<h3>Use cases<a class="headerlink" href="#use-cases" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>social media profiles</p></li>
<li><p>object catalogues</p></li>
<li><p>content management system</p></li>
<li><p>not good for transaction systems</p></li>
</ul>
</div>
</div>
<div class="section" id="aurora-serverless">
<h2>Aurora (serverless)<a class="headerlink" href="#aurora-serverless" title="Permalink to this heading">#</a></h2>
<p>leveraging aurora architecture and allow clusters to be serverless</p>
</div>
<div class="section" id="dynamodb-serverless">
<h2>DynamoDB (Serverless)<a class="headerlink" href="#dynamodb-serverless" title="Permalink to this heading">#</a></h2>
<p>key-value nosql database, full serverless</p>
</div>
<div class="section" id="athena">
<h2>Athena<a class="headerlink" href="#athena" title="Permalink to this heading">#</a></h2>
<p>it is not a database, it is a query interface based on AWS Glue which is presto.</p>
<p>Available in GUI, CLI and SDK.</p>
</div>
<div class="section" id="s3-select">
<h2>S3 Select<a class="headerlink" href="#s3-select" title="Permalink to this heading">#</a></h2>
<p>in practice, it is not a database, it’s API call which allow for making SQL selects on data stored in S3 buckets.</p>
<p>Used only for filtering data, any aggregation of data is not possible.</p>
<p>Available in AWS CLI and SDK’s.</p>
<p>Can read data from CSV, JSON or Parquet. Data must be encoded in UTF8.</p>
<p>Compression is possible (GZIP, BZIP for CSV and JSON only).</p>
<p>Encryption on server-side is supported (client side encryption is not possible)</p>
<div class="highlight-commandline notranslate"><div class="highlight"><pre><span></span>aws s3api select-object-content --bucket DAS_Bucket --key DAS_Data.csv --expression &quot;SELECT * FROM s3object&quot; --expression-type &quot;SQL&quot; --input-serialization &#39;{&quot;CSV&quot;: {}, &quot;CompressionType&quot;: &quot;NONE&quot;}&#39; --output-serialization &#39;{&quot;CSV&quot;: {}}&#39; &quot;DAS_OUTPUT.csv&quot;
</pre></div>
</div>
</div>
</div>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By https://github.com/michalgromiec<br/>
  
      &copy; Copyright .<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>