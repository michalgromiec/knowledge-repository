
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>What is it &#8212; Knowledge Repository 0.1 documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../index.html">
                    <no title>
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Kinesis Data Streams
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/01.01%20Data%20Collection%20intro.html">
   Collection of data - intro
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/01.02%20Kinesis%20Data%20Streams.html">
   Kinesis Data Streams
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/01.04%20Kinesis%20Data%20Streams%20-%20consumers.html">
   Consumers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/01.05%20Kinesis%20Data%20Streams%20Scaling.html">
   Scaling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/01.06%20Kinesis%20Data%20Streams%20-%20handling%20duplicates.html">
   Handling duplicates
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/01.07%20Kinesis%20Data%20Streams%20Security.html">
   Security
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/02.01%20Kinesis%20Data%20Firehose.html">
   Kinesis Data Firehose
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02%20Storage%20of%20data/02.01%20AWS%20S3.html">
   AWS S3 (Simple Storage Service)
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/michalgromiec/knowledge-repository"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/michalgromiec/knowledge-repository/edit/master/docs/source/aws_certified_data_analytics_specialty/notes/03 Processing/03.04 AWS EMR.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   What is it
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#emr-cluster">
   EMR Cluster
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cluster-types-based-on-usage">
   Cluster types based on usage
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#emr-usage">
   EMR usage
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#emr-integration-with-other-aws-services">
   EMR integration with other AWS services
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#emr-storage-types">
   EMR storage types
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pricing-model">
   Pricing model
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#emr-scaling">
   EMR scaling
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#automatic-scaling">
     Automatic scaling
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#managed-scaling">
     Managed scaling
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#emr-serverless">
   EMR Serverless
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>What is it</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   What is it
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#emr-cluster">
   EMR Cluster
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cluster-types-based-on-usage">
   Cluster types based on usage
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#emr-usage">
   EMR usage
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#emr-integration-with-other-aws-services">
   EMR integration with other AWS services
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#emr-storage-types">
   EMR storage types
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pricing-model">
   Pricing model
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#emr-scaling">
   EMR scaling
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#automatic-scaling">
     Automatic scaling
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#managed-scaling">
     Managed scaling
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#emr-serverless">
   EMR Serverless
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <div class="section" id="what-is-it">
<h1>What is it<a class="headerlink" href="#what-is-it" title="Permalink to this heading">#</a></h1>
<ul class="simple">
<li><p>EMR = Elastic Map Reduce</p></li>
<li><p>Managed Hadoop framework run on EC2 instances (AWS implement Hadoop to automate set up using AWS EC2 instances)</p></li>
<li><p>includes Spark/Hbase/Presto/Flink/Hive &amp; more, depends on EMR cluster version</p></li>
<li><p>includes EMR Notebooks</p></li>
<li><p>integrated with other AWS services (e.g. AWS Glue metastore)</p></li>
</ul>
</div>
<div class="section" id="emr-cluster">
<h1>EMR Cluster<a class="headerlink" href="#emr-cluster" title="Permalink to this heading">#</a></h1>
<ul class="simple">
<li><p>collection of EC2 instances (node)</p></li>
<li><p>types of nodes:</p>
<ul>
<li><p>master - manages the cluster, tracks status of tasks, “leader node”, can runs tasks</p></li>
<li><p>core node - hosts HDFS data and runs tasks</p></li>
<li><p>task node - runs tasks, doesnt host data, use when you dont need local HDFS datastore, if you have data on S3 bucket, good use of spot instances because doesn’t contain data and there is no risk of data loss itself</p></li>
</ul>
</li>
<li><p>it is possible to create single node cluster composed of master node only</p></li>
<li><p>like in every hadoop cluster, tasks will be executed by core and task nodes (and optionally by master node)</p></li>
</ul>
</div>
<div class="section" id="cluster-types-based-on-usage">
<h1>Cluster types based on usage<a class="headerlink" href="#cluster-types-based-on-usage" title="Permalink to this heading">#</a></h1>
<ul class="simple">
<li><p>transient cluster</p>
<ul>
<li><p>automatically terminates once all steps are complete</p></li>
<li><p>exists only for the duration of steps processing</p></li>
<li><p>costs reduction</p></li>
</ul>
</li>
<li><p>long-running clusters</p>
<ul>
<li><p>terminated manually</p></li>
<li><p>best for data warehouse with periodic processing on large datasets (to reduce bootstrapping time for every process)</p></li>
<li><p>can use reserved instances on long-running clusters to save money</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="emr-usage">
<h1>EMR usage<a class="headerlink" href="#emr-usage" title="Permalink to this heading">#</a></h1>
<ul class="simple">
<li><p>applications and their versions are selected at cluster creation</p></li>
<li><p>user connects directly to master node to run jobs directly</p></li>
<li><p>user can submit steps by using AWS Console</p></li>
<li><p>user can also use Jupyter Notebooks and use EMR cluster</p></li>
</ul>
</div>
<div class="section" id="emr-integration-with-other-aws-services">
<h1>EMR integration with other AWS services<a class="headerlink" href="#emr-integration-with-other-aws-services" title="Permalink to this heading">#</a></h1>
<ul class="simple">
<li><p>EC2 = uses EC2 instances for nodes</p></li>
<li><p>VPC = nodes uses virtual network</p></li>
<li><p>S3 = store input and output data, not need to use HDFS filesystem in EMR cluster</p></li>
<li><p>Cloudwatch = monitor cluter performance</p></li>
<li><p>IAM = store permission to EMR cluster</p></li>
<li><p>CloudTrail = audit requrests made to the service</p></li>
<li><p>Data Pipeline = schedule and start clusters</p></li>
</ul>
</div>
<div class="section" id="emr-storage-types">
<h1>EMR storage types<a class="headerlink" href="#emr-storage-types" title="Permalink to this heading">#</a></h1>
<ul class="simple">
<li><p>HDFS = simple Hadoop Filesystem</p>
<ul>
<li><p>data stored on core nodes of EMR cluster</p></li>
<li><p>ephemeral - data is lost when cluster is terminated</p></li>
<li><p>as in a standadrd HDFS implementation - data stored in blocks, redundant stored in core nodes</p></li>
<li><p>data locality can be used - dadta are processed directly on node where they exists (can be faster than S3 bucket data)</p></li>
</ul>
</li>
<li><p>EMRFS = EMR file system</p>
<ul>
<li><p>access S3 as if it were HDFS</p></li>
<li><p>persistent storage, preserve also after cluster termination</p></li>
</ul>
</li>
<li><p>Local file system</p>
<ul>
<li><p>ephemeral</p></li>
<li><p>suitable only for temporary data (buffers, caches)</p></li>
</ul>
</li>
<li><p>EBS for HDFS</p>
<ul>
<li><p>elastic block storage</p></li>
<li><p>ephemeral</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="pricing-model">
<h1>Pricing model<a class="headerlink" href="#pricing-model" title="Permalink to this heading">#</a></h1>
<ul class="simple">
<li><p>separate price for EMR, beyond this EC2 costs so you have to pay for them</p></li>
<li><p>user can add or remove task node anytime on the fly</p></li>
<li><p>user can change code nodes number, but removing those core came with risk of data loss (hdfs stores data there, it should be done using hadoop nodes redundancy, but still it is risky when more than one code node is removed)</p></li>
<li><p>you can temporarily improve EMR cluster efficiency by adding task nodes (or reduce it)</p></li>
</ul>
</div>
<div class="section" id="emr-scaling">
<h1>EMR scaling<a class="headerlink" href="#emr-scaling" title="Permalink to this heading">#</a></h1>
<div class="section" id="automatic-scaling">
<h2>Automatic scaling<a class="headerlink" href="#automatic-scaling" title="Permalink to this heading">#</a></h2>
<p>Before 2020, the only option of scaling cluster was EMR Automatic Scaling.
EMR cluster capacity was changed based on cloudwatch metrics.
It was limited to instance groups only (only instances from same instance groups could be added)</p>
</div>
<div class="section" id="managed-scaling">
<h2>Managed scaling<a class="headerlink" href="#managed-scaling" title="Permalink to this heading">#</a></h2>
<p>Introduced in 2020.
It allows specify minimum and maximum number of units which are taken into account when cluster resize is needed.</p>
</div>
</div>
<div class="section" id="emr-serverless">
<h1>EMR Serverless<a class="headerlink" href="#emr-serverless" title="Permalink to this heading">#</a></h1>
<p>It’s an option for creating EMR jobs but without bootstraping and defining EMR cluster (and using EC2 underthehood).
It means you dont manage EMR cluster and AWS decide how many nodes with what power should be used to process your data.</p>
<p>You need to use EMR studio to use this service.</p>
<p>You can still specify default worker size &amp; pre-initialized capacity, otherwise capacity used will be defined automatically</p>
<p>The most advantage is you dont have to define how many nodes, memory you need - it is calculated automatically.</p>
<p><strong>BUT</strong> it is not a serveless like e.g. Athena - you still manage with create application, delete application etc.</p>
</div>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By https://github.com/michalgromiec<br/>
  
      &copy; Copyright .<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>