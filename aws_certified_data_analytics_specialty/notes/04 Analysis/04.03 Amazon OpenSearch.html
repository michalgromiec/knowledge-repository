
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Amazon OpenSearch (former Amazon ElasticSearch) &#8212; Knowledge Repository 0.1 documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../index.html">
                    <no title>
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Collection of Data
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../00%20Certification/00.01%20cerfification%20info.html">
   DAS-C01 certification info
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../00%20Certification/00.02%20data%20analytics%20in%20general.html">
   Data Analytics - general info
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/01.01%20Data%20Collection%20intro.html">
   Collection of data - intro
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/01.02%20Kinesis%20Data%20Streams.html">
   Kinesis Data Streams
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/02.01%20Kinesis%20Data%20Firehose.html">
   Kinesis Data Firehose
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/02.50%20Kinesis%20Video%20Streams.html">
   Kinesis Video Streams
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/03.01%20Cloudwatch%20Logs%20Subscription%20Filter.html">
   Cloudwatch Logs Subscription Filter
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/04.01%20AWS%20MSK%20%28Managed%20Streaming%20for%20Apache%20Kafka%29.html">
   AWS MSK (Managed Streaming for Apache Kafka)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/05.01%20SQS.html">
   AWS SQS (Simple Queue Service)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/06.01%20IOT.html">
   AWS IOT
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/07.01%20Database%20Migration%20Service.html">
   AWS DMS (Database Migration Service)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/08.01%20Direct%20Connect%20%28DX%29.html">
   AWS Direct Connect (DX)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/09.01%20AWS%20Snow%20Family.html">
   AWS Snow (family)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01%20Collection%20of%20data/11.01%20Lambda%2C%20API%20and%20Cloudfront.html">
   AWS Lambda
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Storage of Data
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../02%20Storage%20of%20data/02.01%20AWS%20S3.html">
   AWS S3 (Simple Storage Service)
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/michalgromiec/knowledge-repository"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/michalgromiec/knowledge-repository/edit/master/docs/source/aws_certified_data_analytics_specialty/notes/04 Analysis/04.03 Amazon OpenSearch.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-is-it">
   What is it
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#renaming-to-opensearch">
   Renaming to opensearch
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#use-cases">
   Use cases
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#main-concepts">
   Main Concepts
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-does-it-work">
   How does it work?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-to-query-openseach-indexes">
   How to query Openseach indexes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualization-results">
   Visualization results
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#integration-with-other-aws-services">
   Integration with other AWS Services
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#deployment-options">
   Deployment options
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#security">
   Security
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#anti-patterns">
   Anti-patterns
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#storage-types">
   Storage types
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#index-state-management">
   Index State Management
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#index-rollup">
   Index rollup
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#index-transforms">
   Index transforms
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cross-cluster-replication">
   Cross-cluster replication
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#stability">
   Stability
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pricing-model">
   Pricing model
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Amazon OpenSearch (former Amazon ElasticSearch)</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-is-it">
   What is it
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#renaming-to-opensearch">
   Renaming to opensearch
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#use-cases">
   Use cases
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#main-concepts">
   Main Concepts
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-does-it-work">
   How does it work?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-to-query-openseach-indexes">
   How to query Openseach indexes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualization-results">
   Visualization results
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#integration-with-other-aws-services">
   Integration with other AWS Services
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#deployment-options">
   Deployment options
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#security">
   Security
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#anti-patterns">
   Anti-patterns
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#storage-types">
   Storage types
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#index-state-management">
   Index State Management
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#index-rollup">
   Index rollup
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#index-transforms">
   Index transforms
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cross-cluster-replication">
   Cross-cluster replication
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#stability">
   Stability
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pricing-model">
   Pricing model
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <div class="section" id="amazon-opensearch-former-amazon-elasticsearch">
<h1>Amazon OpenSearch (former Amazon ElasticSearch)<a class="headerlink" href="#amazon-opensearch-former-amazon-elasticsearch" title="Permalink to this heading">#</a></h1>
<div class="section" id="what-is-it">
<h2>What is it<a class="headerlink" href="#what-is-it" title="Permalink to this heading">#</a></h2>
<p>Large scale analysis and reporting at petabyte scale</p>
<p>At the beginning it was made for search engine, but now it’s not only for search anymore.
Now its primarily for reporting.</p>
<p>Can analyze massive data set a lot faster than i.e. Apache Spark.</p>
<ul class="simple">
<li><p>OpenSearch if fork of Elasticsearch and Kibana (visualization tool), of which ElasticSearch was actually build on top of Lucene</p></li>
<li><p>fundamentally is search engine, used for searching using json and fuzzy matching</p></li>
<li><p>not the best tool for storage, specialized in searching the index (so if you e.g. scrap data from web and want to be able to search and still have persisted data storage, it is a good practice to store them first e.g. in dynamodb table and then, based on dynamodb events use lambda to put new documents to elasticsearch index)</p></li>
<li><p>scalable, distributed horizontally</p></li>
<li><p>over years, thanks to addition of new tools, it has become analysis tool</p></li>
<li><p>can be used as data pipeline by using Kinesis (it replaces Beats &amp; LogStash from Elastic Stack)</p></li>
<li><p>managed solution, but not serverless, simillar to EMR (user is not responsible for i.e. server upgrades), instead of installing opensource elasticsearch on many EC2 instances and managed them by user</p></li>
<li><p>can scale up or ddown without downtime, but it is not automatic</p></li>
<li><p>pay for what you use (instance-hours, storage, data transfer), still idle working instances generate costs</p></li>
<li><p>security assued by network isolation (VPC, default) and encryption both at rest and in-transit</p></li>
</ul>
</div>
<div class="section" id="renaming-to-opensearch">
<h2>Renaming to opensearch<a class="headerlink" href="#renaming-to-opensearch" title="Permalink to this heading">#</a></h2>
<p>Amazon renamed service to Amazon openSearch after licensing dispute in September 2021 - they’ve forked open source ElasticSearch, it works in very much the same way as the Amazon Elasticsearch, it just has a different name.</p>
</div>
<div class="section" id="use-cases">
<h2>Use cases<a class="headerlink" href="#use-cases" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>(basic) full-text search</p></li>
<li><p>log analytics</p></li>
<li><p>application monitoring (based on incoming log data)</p></li>
<li><p>security analytics / clickstream analytics (also based on log data)</p></li>
</ul>
</div>
<div class="section" id="main-concepts">
<h2>Main Concepts<a class="headerlink" href="#main-concepts" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>documents = data are stored as a document (because basically opensearch was for full-text search…). But it is not limited to text - you can store data in json files. Every document has a unique ID and a type</p></li>
<li><p>types = defines schema and mapping shared by documents that represent the same soft of thing/format. But in newer elasticsearch version types are limited and going to be deprecated, because schemas will be derived automatically in future</p></li>
<li><p>indices/indexes = index powers search into all documents within a collection of type, in opensearch we have one type per index. In practice, indexes are list of every word found in documents, thanks to indexes searching documents is very easy (word is connected with documents in which words exist)</p></li>
</ul>
</div>
<div class="section" id="how-does-it-work">
<h2>How does it work?<a class="headerlink" href="#how-does-it-work" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>index is split into shards (allows for horizontal scaling)</p></li>
<li><p>document is hashed and stored in particular shard</p></li>
<li><p>every shard may be on a different node in a cluster</p></li>
<li><p>in opensearch every shard is a self-contained Lucene index of its own (every shard is kindd of separate search engine)</p></li>
<li><p>each index has own primary shard and replicas</p></li>
<li><p>writes are first written to primary shard and then replicated to replica shards</p></li>
<li><p>reads are routed to the primary shard or any of replica shards, opensearch tries to distribute the load of read request between all possible shardsd (both primary and replicas)</p></li>
</ul>
</div>
<div class="section" id="how-to-query-openseach-indexes">
<h2>How to query Openseach indexes<a class="headerlink" href="#how-to-query-openseach-indexes" title="Permalink to this heading">#</a></h2>
<p>OpenSearch allow for query data using REST API. So you can use i.e. elasticsearch python package to send those API requests.</p>
<p>You can also use Kibana, which is graphic interface and allow for query data without knowing API endpoints structure (which is still used under the hood).
Kibana also allows for simple SQL query, which still is translated to API payloads and send asf API requests.</p>
</div>
<div class="section" id="visualization-results">
<h2>Visualization results<a class="headerlink" href="#visualization-results" title="Permalink to this heading">#</a></h2>
<p>You can visualize Opensearch results using:</p>
<ul class="simple">
<li><p>Kibana - builtin tool in Opensearch</p></li>
<li><p>D3JS - easily embedded in external applications, can visualize any JSON formatted data</p></li>
</ul>
</div>
<div class="section" id="integration-with-other-aws-services">
<h2>Integration with other AWS Services<a class="headerlink" href="#integration-with-other-aws-services" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>S3 buckets (via Lambda to Kinesis)</p></li>
<li><p>Kinesis Data Streams / Kinesis Firehose</p></li>
<li><p>DynamoDB Streams</p></li>
<li><p>Cloudwatch / cloudtrail (logs subscription can deliver to OpenSearch directly)</p></li>
<li><p>IoT</p></li>
</ul>
</div>
<div class="section" id="deployment-options">
<h2>Deployment options<a class="headerlink" href="#deployment-options" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>dedicated master node (doesn’t hold data, its aim is to manage work on primary and replica shards)</p></li>
<li><p>domains = in AWS opensearch domain is a collection of nodes which can work as a opensearch cluster</p></li>
<li><p>snapshot to S3 - it is possible to make a snapshot of opensearch indices to S3, to prevent from losing data on accidentally delete opensearch cluster</p></li>
</ul>
</div>
<div class="section" id="security">
<h2>Security<a class="headerlink" href="#security" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>resource-based policies (so you can grant operations on certain domain for certain IAM role)</p></li>
<li><p>identity-based policies</p></li>
<li><p>ip-based policies (you can restrict access to selected IP numbers)</p></li>
<li><p>VPC restriction (you can place cluster in VPC with no internet access). You cannot change this option on running cluster, you have to decide it when creating the cluster</p></li>
<li><p>Cognito can be used to grant separate authentication (both using Active Directory, social media identity services or Cognito user pool)</p></li>
</ul>
</div>
<div class="section" id="anti-patterns">
<h2>Anti-patterns<a class="headerlink" href="#anti-patterns" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>OLTP = opensearch doesn’t have transaction support, use RDS or DynamoDB instead</p></li>
<li><p>ad-hoc data querying = you can do this, but athena is better for this</p></li>
</ul>
</div>
<div class="section" id="storage-types">
<h2>Storage types<a class="headerlink" href="#storage-types" title="Permalink to this heading">#</a></h2>
<p>This is one of the difference vs Elasticsearch - AWS introduce storage types</p>
<p>By default, your data nodes use “hot” storage - with EBS volumes, faster performance, but the most expensive</p>
<p>As an alternative, you can choose other storage types:</p>
<ul class="simple">
<li><p>ultrawarm/warm - uses S3 and caching, best for indices with few writes, slower performance but much lower costs (uses S3 instead of EBS)</p></li>
<li><p>cold - uses S3, it’s even cheaper, best use for “periodic research on older data”</p></li>
</ul>
<p>Data can be migrated between different storage types</p>
</div>
<div class="section" id="index-state-management">
<h2>Index State Management<a class="headerlink" href="#index-state-management" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>automates index management policies - in other words automate operations which can be done on index, for example:</p>
<ul>
<li><p>delete old indices after a period of time</p></li>
<li><p>move indices into read only state</p></li>
<li><p>move indices between storage types</p></li>
<li><p>reduce replica count over time</p></li>
<li><p>automate index snapshots</p></li>
</ul>
</li>
</ul>
<p>ISM policies run every 30-48 minutes, you can send notifications when done</p>
</div>
<div class="section" id="index-rollup">
<h2>Index rollup<a class="headerlink" href="#index-rollup" title="Permalink to this heading">#</a></h2>
<p>You can automatically periodically roll up old data into summarized indices - it allows you save storage costs.</p>
<p>New rolled-up index may have fewer fields.</p>
</div>
<div class="section" id="index-transforms">
<h2>Index transforms<a class="headerlink" href="#index-transforms" title="Permalink to this heading">#</a></h2>
<p>like rollup but purpose is to create a different view to analyze data differently</p>
</div>
<div class="section" id="cross-cluster-replication">
<h2>Cross-cluster replication<a class="headerlink" href="#cross-cluster-replication" title="Permalink to this heading">#</a></h2>
<p>You can replace indices across domains, to ensure high availability (prevent from losing data) or to reduce latency (replicate data geographically).</p>
<p>You set up follower index which pulls data from leader index.</p>
<p>You can also copy index on demand by using Remote Reindex functionality.</p>
</div>
<div class="section" id="stability">
<h2>Stability<a class="headerlink" href="#stability" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>3 dedicated master nodes is best practice (avoids split brain when you have two master nodes, and they have different state - who is master then?)</p></li>
<li><p>pay attention on disk space - minimum storage requirements is roughly <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">data</span> <span class="pre">*</span> <span class="pre">(1</span> <span class="pre">+</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">replicas)</span> <span class="pre">*</span> <span class="pre">1.45</span></code>, so with 45% of overhead</p></li>
<li><p>choose correct number of shards (many times needs to be done by trial and error method)</p></li>
<li><p>choose correct instance types (mostly about storage requirements, not about CPU and memory, cause opensearch is storage-heavy). Instances for search have suffix <code class="docutils literal notranslate"><span class="pre">.search</span></code></p></li>
</ul>
</div>
<div class="section" id="pricing-model">
<h2>Pricing model<a class="headerlink" href="#pricing-model" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>you pay for your instances per hour (same as for EC2)</p></li>
<li><p>you pay for your EBS volumes (if you use hot storage type, not cold or ultrawarm)</p></li>
</ul>
</div>
</div>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By https://github.com/michalgromiec<br/>
  
      &copy; Copyright .<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>